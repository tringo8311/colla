!function(){"use strict";function e(e,n){function i(e){n.setGalleryLength(e.ionGalleryItems.length),n.setRowSize(parseInt(e.ionGalleryRow));for(var i=e.ionGalleryItems,t=[],o=n.getRowSize(),l=-1,r=0,a=0;a<i.length;a++)a%o===0&&(l++,t[l]=[],r=0),i[a].hasOwnProperty("sub")||(i[a].sub=""),t[l][r]=i[a],r++;e.items=t,e.responsiveGrid=parseInt(1/o*100)}function t(e,n,i){e.ionSliderToggle="false"===i.ionGalleryToggle?!1:!0}return i.$inject=["$scope"],{restrict:"AE",scope:{ionGalleryItems:"=ionGalleryItems",ionGalleryRow:"=ionGalleryRow"},controller:i,link:t,replace:!0,templateUrl:"gallery.html"}}angular.module("ion-gallery",["templates"]).directive("ionGallery",e),e.$inject=["$ionicPlatform","ionGalleryData"]}(),function(){"use strict";function e(){var e,n=3,i=this;this.setGalleryLength=function(n){e=n},this.getGalleryLength=function(){return e},this.setRowSize=function(e){var t=i.getGalleryLength;n=isNaN(e)===!0?3:e>t?t:0>=e?1:e},this.getRowSize=function(){return n}}angular.module("ion-gallery").service("ionGalleryData",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,n,i){n.bind("load",function(e){this.naturalHeight>this.naturalWidth?n.attr("width","100%"):n.attr("height",n.parent()[0].offsetHeight+"px")})}return{restrict:"A",link:e}}angular.module("ion-gallery").directive("ionImageScale",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,n,i){n.css("height",n[0].offsetWidth*parseInt(e.$parent.responsiveGrid)/100+"px")}return{restrict:"A",link:e}}angular.module("ion-gallery").directive("ionRowHeight",e),e.$inject=[]}(),function(){"use strict";function e(e,n){function i(i,t,o){var l=!1,r=function(){i.$emit(c()>1?"ZoomStarted":"ZoomOriginal")},a=function(e){l=!0,n(function(){l=!1,i.$emit("DoubleTapEvent",{x:e.gesture.touches[0].pageX,y:e.gesture.touches[0].pageY})},200)},s=function(e){l!==!0&&n(function(){l!==!0&&i.$emit("TapEvent")},200)},c=function(){var e=t[0].getElementsByClassName("scroll")[0].style.webkitTransform.match(/scale\(([^)]+)\)/);return parseFloat(e[1])},d=e.on("pinch",r,t),u=e.on("doubletap",function(e){a(e)},t),g=e.on("tap",s,t);i.$on("$destroy",function(){e.off(u,"doubletap",a),e.off(g,"tap",s),e.off(d,"pinch",r)})}return{restrict:"A",link:i}}angular.module("ion-gallery").directive("ionSlideAction",e),e.$inject=["$ionicGesture","$timeout"]}(),function(){"use strict";function e(e,n,i,t){function o(e){function o(){c=!1,d()}var l,r,a=n.getGalleryLength(),s=n.getRowSize(),c=!1;e.selectedSlide=1,e.hideAll=!1,e.showImage=function(n,i){e.slides=[],r=n*s+i;var t=r,o=t-1,c=t+1;0>o&&(o=a-1),c>=a&&(c=0),e.slides[0]=e.ionGalleryItems[o],e.slides[1]=e.ionGalleryItems[t],e.slides[2]=e.ionGalleryItems[c],l=1,e.loadModal()},e.slideChanged=function(n){if(n!==l){var i,o=e.slides.length-l-n;switch(l+">"+n){case"0>1":r++,i=r+1;break;case"1>2":r++,i=r+1;break;case"2>0":r++,i=r+1;break;case"0>2":r--,i=r-1;break;case"1>0":r--,i=r-1;break;case"2>1":r--,i=r-1}0>r&&(r=a-1),r>a&&(r=0),0>i&&(i=a+i),i>=a&&(i-=a),t.$getByHandle("slide-"+o).zoomTo(1),e.slides[o]=e.ionGalleryItems[i],l=n}},e.$on("ZoomStarted",function(n){i(function(){c=!0,e.hideAll=!0})}),e.$on("ZoomOriginal",function(e){i(function(){o()},300)}),e.$on("TapEvent",function(e){i(function(){d()})}),e.$on("DoubleTapEvent",function(e,n){i(function(){u(n)})});var d=function(){return c===!0?(t.$getByHandle("slide-"+l).zoomTo(1,!0),void i(function(){o()},300)):void(e.hasOwnProperty("ionSliderToggle")&&e.ionSliderToggle===!1&&e.hideAll===!1||c===!0||(e.hideAll=!e.hideAll))},u=function(n){c===!1?(t.$getByHandle("slide-"+l).zoomTo(3,!0,n.x,n.y),c=!0,e.hideAll=!0):d()}}function l(n,i,t){var o;n.loadModal=function(){e.fromTemplateUrl("slider.html",{scope:n,animation:"fade-in"}).then(function(e){o=e,n.openModal()})},n.openModal=function(){o.show()},n.closeModal=function(){o.hide()},n.$on("$destroy",function(){o.remove()})}return o.$inject=["$scope"],{restrict:"A",controller:o,link:l}}angular.module("ion-gallery").directive("ionSlider",e),e.$inject=["$ionicModal","ionGalleryData","$timeout","$ionicScrollDelegate"]}(),angular.module("templates",[]).run(["$templateCache",function(e){e.put("gallery.html",'<div class="gallery-view">\r\n  <div class="row" ng-repeat="item in ::items" ion-row-height>\r\n    <div ng-repeat="photo in ::item track by $index"\r\n         class="col col-{{::responsiveGrid}} image-container">\r\n      \r\n      <img ion-image-scale\r\n           ng-src="{{::photo.src}}"\r\n           ng-click="showImage({{::$parent.$index}},{{::$index}})">\r\n      \r\n    </div>\r\n  </div>\r\n  <div ion-slider></div>\r\n</div>'),e.put("slider.html",'<ion-modal-view class="blackBackground imageView">\r\n  <ion-header-bar class="headerView" ng-show="!hideAll">\r\n    <button class="button button-outline button-light icon-left ion-close-round close-btn" ng-click="closeModal()"></button>\r\n  </ion-header-bar>\r\n    \r\n  <ion-content class="has-no-header" scroll="false">\r\n    <ion-slide-box does-continue="true" active-slide="selectedSlide" show-pager="false" class="listContainer" on-slide-changed="slideChanged($index)">\r\n      <ion-slide ng-repeat="single in slides track by $index">\r\n        <ion-scroll direction="xy"\r\n                    locking="false" \r\n                    zooming="true"\r\n                    min-zoom="1"\r\n                    scrollbar-x="false"\r\n                    scrollbar-y="false"\r\n                    class="animate modal-content"\r\n                    ion-slide-action\r\n                    delegate-handle="slide-{{::$index}}"\r\n                    >\r\n        <div class="item item-image centerPictureVertical gallery-slide-view">\r\n          <img ng-src="{{single.src}}">\r\n        </div>\r\n        <div ng-if="single.sub.length > 0" class="image-subtitle" ng-show="!hideAll">\r\n            <span ng-bind-html=\'single.sub\'></span>\r\n        </div>\r\n        </ion-scroll>\r\n      </ion-slide>\r\n    </ion-slide-box>\r\n  </ion-content>\r\n</ion-modal-view>')}]);